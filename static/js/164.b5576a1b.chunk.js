"use strict";(self.webpackChunkvideo_survey_app=self.webpackChunkvideo_survey_app||[]).push([[164],{3164:(e,n,l)=>{l.r(n),l.d(n,{default:()=>f});var s=l(5043),t=l(6446),r=l(5865),a=l(7849),o=l(7392),i=l(1906),c=l(6060),d=l(3471),p=l(5740),x=l(1013),h=l(579);const u=(0,c.A)(t.A)((e=>{let{theme:n}=e;return{padding:n.spacing(2),marginBottom:n.spacing(2),borderRadius:n.shape.borderRadius,backgroundColor:n.palette.grey[200],border:"2px solid ".concat(n.palette.primary.main)}})),g=(0,c.A)(t.A)((e=>{let{theme:n}=e;return{padding:n.spacing(1),marginBottom:n.spacing(1),borderRadius:n.shape.borderRadius,backgroundColor:n.palette.grey[100],border:"1px solid ".concat(n.palette.grey[300])}})),f=e=>{let{initialQuestions:n,onQuestionsCreated:l}=e;const[c,f]=(0,s.useState)(n),[j,A]=(0,s.useState)(""),[m,y]=(0,s.useState)(["","","","",""]);(0,s.useEffect)((()=>{const e=localStorage.getItem("questions");e&&f(JSON.parse(e))}),[]),(0,s.useEffect)((()=>{localStorage.setItem("questions",JSON.stringify(c))}),[c]);const v=function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&c.length>0?c[c.length-1].options:[...m];f([...c,{type:"multiple-choice",text:j,options:e}]),A(""),y(["","","","",""])};return(0,h.jsxs)(t.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,h.jsx)(r.A,{variant:"h5",gutterBottom:!0,children:"\u8cea\u554f\u3092\u7de8\u96c6\u3059\u308b"}),(0,h.jsx)(x.JY,{onDragEnd:e=>{if(!e.destination)return;const n=Array.from(c),[l]=n.splice(e.source.index,1);n.splice(e.destination.index,0,l),f(n)},children:(0,h.jsx)(x.gL,{droppableId:"questions",children:e=>(0,h.jsxs)(t.A,{ref:e.innerRef,...e.droppableProps,children:[c.map(((e,n)=>(0,h.jsx)(x.sx,{draggableId:"question-".concat(n),index:n,children:l=>(0,h.jsxs)(u,{ref:l.innerRef,...l.draggableProps,...l.dragHandleProps,children:[(0,h.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,h.jsx)(t.A,{children:(0,h.jsx)(p.A,{})}),(0,h.jsx)(a.A,{value:e.text,onChange:e=>{const l=[...c];l[n].text=e.target.value,f(l)},placeholder:"\u8cea\u554f\u5185\u5bb9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",fullWidth:!0}),(0,h.jsx)(o.A,{onClick:()=>(e=>{const n=c.filter(((n,l)=>l!==e));f(n)})(n),color:"secondary",children:(0,h.jsx)(d.A,{})})]}),(0,h.jsxs)(t.A,{sx:{display:"flex",flexDirection:"column",ml:4},children:[e.options.map(((e,l)=>(0,h.jsxs)(g,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,h.jsx)(a.A,{value:e,onChange:e=>((e,n,l)=>{const s=[...c];s[e].options[n]=l,f(s)})(n,l,e.target.value),placeholder:"\u9078\u629e\u80a2\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",fullWidth:!0}),(0,h.jsx)(o.A,{onClick:()=>((e,n)=>{const l=[...c];l[e].options=l[e].options.filter(((e,l)=>l!==n)),f(l)})(n,l),color:"secondary",children:(0,h.jsx)(d.A,{})})]},l))),(0,h.jsx)(i.A,{onClick:()=>(e=>{const n=[...c];n[e].options.push(""),f(n)})(n),variant:"contained",color:"primary",sx:{alignSelf:"flex-start"},children:"\u9078\u629e\u80a2\u3092\u8ffd\u52a0"})]})]})},n))),e.placeholder]})})}),(0,h.jsxs)(t.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:4},children:[(0,h.jsx)(a.A,{value:j,onChange:e=>A(e.target.value),label:"\u65b0\u3057\u3044\u8cea\u554f",placeholder:"\u8cea\u554f\u5185\u5bb9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",fullWidth:!0}),m.map(((e,n)=>(0,h.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,h.jsx)(a.A,{value:e,onChange:e=>{const l=[...m];l[n]=e.target.value,y(l)},label:"\u9078\u629e\u80a2 ".concat(n+1),placeholder:"\u9078\u629e\u80a2\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",fullWidth:!0}),(0,h.jsx)(o.A,{onClick:()=>y(m.filter(((e,l)=>l!==n))),color:"secondary",children:(0,h.jsx)(d.A,{})})]},n))),(0,h.jsx)(i.A,{onClick:()=>y([...m,""]),variant:"contained",color:"primary",children:"\u9078\u629e\u80a2\u3092\u8ffd\u52a0"}),(0,h.jsxs)(t.A,{sx:{display:"flex",gap:2},children:[(0,h.jsx)(i.A,{onClick:()=>v(),variant:"contained",color:"primary",children:"\u8cea\u554f\u3092\u8ffd\u52a0"}),(0,h.jsx)(i.A,{onClick:()=>v(!0),variant:"contained",color:"secondary",children:"\u524d\u306e\u9078\u629e\u80a2\u3092\u30b3\u30d4\u30fc\u3057\u3066\u8ffd\u52a0"})]})]}),(0,h.jsx)(i.A,{onClick:()=>{l(c)},variant:"contained",color:"secondary",sx:{alignSelf:"flex-start",mt:4},children:"\u4fdd\u5b58"})]})}}}]);
//# sourceMappingURL=164.b5576a1b.chunk.js.map